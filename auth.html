<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promptly Auth</title>
    <style>
      * { box-sizing: border-box; }
      body {
        margin: 0;
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        background: radial-gradient(circle at 20% 20%, rgba(127, 90, 240, 0.35), transparent 50%),
                    radial-gradient(circle at 80% 0%, rgba(44, 177, 188, 0.3), transparent 55%),
                    linear-gradient(140deg, #06040f 0%, #0e1230 60%, #05040b 100%);
        color: #f5f6f8;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1.5rem;
        padding: clamp(1rem, 4vw, 3rem);
      }

      .auth-shell {
        width: 100%;
        max-width: 1100px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: clamp(1.25rem, 3vw, 3rem);
      }

      .auth-brand {
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 36px;
        padding: clamp(2rem, 4vw, 3rem);
        background: linear-gradient(135deg, rgba(127, 90, 240, 0.25), rgba(44, 177, 188, 0.18));
        box-shadow: 0 30px 90px rgba(0, 0, 0, 0.45);
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .auth-brand::after {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at top right, rgba(255,255,255,0.25), transparent 45%);
        pointer-events: none;
      }

      .auth-brand img {
        width: clamp(96px, 15vw, 140px);
        height: auto;
        margin-bottom: 1rem;
      }

      .auth-brand h1 {
        margin: 0 0 0.5rem;
        font-size: clamp(2rem, 4.5vw, 2.8rem);
        letter-spacing: 0.02em;
      }

      .auth-brand p {
        margin: 0 auto 1rem;
        max-width: 400px;
        color: rgba(245, 246, 248, 0.9);
        line-height: 1.7;
        font-size: 1.05rem;
      }

      .auth-brand ul {
        list-style: none;
        padding: 0;
        margin: 1.5rem auto 0;
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
        max-width: 420px;
        color: rgba(245, 246, 248, 0.85);
        font-size: 1rem;
        text-align: left;
        position: relative;
        z-index: 1;
      }

      .auth-brand ul li {
        display: flex;
        gap: 0.65rem;
        align-items: flex-start;
      }

      .auth-brand ul li::before {
        content: '‚Ä¢';
        color: rgba(255, 255, 255, 0.85);
        font-size: 1.2rem;
        line-height: 1;
      }

      .auth-trust {
        margin-top: 1.75rem;
        display: flex;
        justify-content: center;
        gap: 1rem;
        flex-wrap: wrap;
        font-size: 0.9rem;
        color: rgba(245, 246, 248, 0.75);
      }

      .auth-trust span {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.35rem 0.8rem;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(6, 10, 30, 0.35);
      }


      .auth-card {
        background: linear-gradient(150deg, rgba(12, 16, 36, 0.95), rgba(10, 10, 24, 0.9));
        border: 1px solid rgba(127, 90, 240, 0.35);
        border-radius: 32px;
        padding: clamp(1.8rem, 3vw, 3rem);
        box-shadow: 0 35px 90px rgba(0, 0, 0, 0.5);
        position: relative;
        overflow: hidden;
      }

      .auth-card::before {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at 20% 20%, rgba(127, 90, 240, 0.25), transparent 50%),
                    radial-gradient(circle at 80% 0%, rgba(44, 177, 188, 0.22), transparent 55%);
        pointer-events: none;
      }

      .auth-card header {
        text-align: center;
        margin-bottom: 1.5rem;
        position: relative;
        z-index: 1;
      }

      .auth-eyebrow {
        text-transform: uppercase;
        letter-spacing: 0.35em;
        color: rgba(127, 201, 255, 0.75);
        font-size: 0.8rem;
        margin: 0;
      }

      .auth-card h2 {
        margin: 0 0 0.3rem;
      }

      .auth-card p {
        margin: 0;
        color: rgba(245, 246, 248, 0.7);
      }

      .auth-card > * { position: relative; z-index: 1; }

      .form-group { margin-bottom: 1rem; }

      label {
        display: block;
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 0.35rem;
        color: rgba(245, 246, 248, 0.9);
      }

      input[type="email"],
      input[type="password"],
      input[type="text"] {
        width: 100%;
        padding: 0.85rem 1rem;
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.04);
        color: #f5f6f8;
        font-size: 0.95rem;
      }

      input:focus {
        outline: none;
        border-color: rgba(127, 90, 240, 0.9);
        box-shadow: 0 0 0 2px rgba(127, 90, 240, 0.35);
        background: rgba(8, 16, 36, 0.8);
      }

      button {
        width: 100%;
        padding: 0.85rem 1.5rem;
        border: none;
        border-radius: 18px;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      button.primary {
        background: linear-gradient(135deg, #7f5af0, #2cb1bc);
        color: #050505;
        box-shadow: 0 14px 30px rgba(127, 90, 240, 0.25);
      }

      button.primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 18px 36px rgba(127, 90, 240, 0.35);
      }

      .toggle-form {
        text-align: center;
        margin-top: 1.25rem;
        color: rgba(245, 246, 248, 0.64);
        font-size: 0.9rem;
      }

      .toggle-form button {
        background: none;
        color: rgba(127, 201, 255, 0.95);
        padding: 0;
        font-size: 0.9rem;
        text-decoration: underline;
        width: auto;
      }

      .error {
        color: rgba(255, 120, 120, 0.95);
        font-size: 0.85rem;
        margin-top: 0.4rem;
      }

      .success {
        color: rgba(127, 201, 255, 0.95);
        font-size: 0.85rem;
        margin-top: 0.4rem;
      }

      .password-field-wrapper { position: relative; }
      .password-field-wrapper input { padding-right: 2.75rem; }

      .password-toggle {
        position: absolute;
        right: 0.75rem;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        width: 28px;
        height: 28px;
        color: rgba(255, 255, 255, 0.6);
      }
      .password-toggle:hover { color: rgba(255, 255, 255, 0.9); }
      .password-toggle svg { width: 20px; height: 20px; }
      .password-toggle .icon-eye-off { display: none; }
      .password-toggle[aria-pressed="true"] .icon-eye { display: none; }
      .password-toggle[aria-pressed="true"] .icon-eye-off { display: inline; }

      .terms {
        font-size: 0.8rem;
        color: rgba(245, 246, 248, 0.64);
        text-align: center;
        margin-bottom: 1rem;
      }
      .terms a { color: rgba(127, 201, 255, 0.95); text-decoration: none; }

      .divider {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin: 1.5rem 0;
      }
      .divider::before,
      .divider::after {
        content: '';
        flex: 1;
        height: 1px;
        background: rgba(255, 255, 255, 0.12);
      }
      .divider span { color: rgba(245, 246, 248, 0.4); font-size: 0.85rem; }

      #google-auth-btn {
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.04);
        color: #f5f6f8;
        border-radius: 14px;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
      }
      #google-auth-btn:hover {
        background: rgba(255, 255, 255, 0.08);
        border-color: rgba(255, 255, 255, 0.15);
      }

      .auth-support {
        margin-top: 1.5rem;
        text-align: center;
        font-size: 0.9rem;
        color: rgba(245, 246, 248, 0.7);
      }

      .auth-support a {
        color: rgba(127, 201, 255, 0.95);
        text-decoration: none;
      }

      .auth-support a:hover {
        text-decoration: underline;
      }

      .terms-consent {
        margin: 1rem 0 0.75rem;
        font-size: 0.88rem;
        color: rgba(245, 246, 248, 0.75);
      }

      .terms-checkbox {
        display: flex;
        gap: 0.65rem;
        align-items: flex-start;
      }

      .terms-checkbox input {
        width: 1.1rem;
        height: 1.1rem;
        margin-top: 0.2rem;
        accent-color: #7f5af0;
      }

      .terms-checkbox a {
        color: rgba(127, 201, 255, 0.95);
        text-decoration: none;
      }

      .terms-checkbox a:hover {
        text-decoration: underline;
      }

      .auth-back-home {
        margin-top: 1.25rem;
      }

      .auth-back-home--card {
        text-align: center;
      }

      .auth-back-home__link {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.65rem 1.2rem;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.28);
        background: rgba(8, 10, 28, 0.55);
        color: #f5f6f8;
        text-decoration: none;
        font-weight: 600;
        letter-spacing: 0.03em;
        transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
      }

      .auth-back-home__link:hover {
        transform: translateY(-2px);
        box-shadow: 0 16px 30px rgba(5, 5, 10, 0.45);
        border-color: rgba(255, 255, 255, 0.45);
      }

      .auth-footer {
        margin-top: 2rem;
        text-align: center;
        color: rgba(245, 246, 248, 0.6);
        font-size: 0.85rem;
      }
      #auth-feedback { text-align: center; min-height: 1rem; }

      @keyframes spin { from { transform: rotate(0deg);} to { transform: rotate(360deg);} }

      @media (max-width: 700px) {
        .auth-card,
        .auth-brand {
          border-radius: 24px;
        }
      }
    </style>
    <script src="assets/vendor/supabase.js"></script>
  </head>
  <body>
    <div class="auth-shell">
      <section class="auth-brand">
        <img src="assets/promptly-logo.svg" alt="Promptly" />
        <h1>Promptly</h1>
        <p>Log in to manage every campaign from one streamlined dashboard.<br/>New here? Create your account in seconds.</p>
        <ul>
          <li>No credit card required to explore your first calendar</li>
          <li>Keep Brand Brain aligned across your entire team</li>
          <li>Access download-ready posts for every major platform</li>
        </ul>
        <div class="auth-trust">
          <span>üîí Secure by Supabase</span>
          <span>üõ° Privacy-first</span>
          <span>‚ö° Priority support</span>
        </div>
        <div class="auth-back-home">
          <a href="/?view=landing" class="auth-back-home__link" data-back-home>
            <span>‚Üê</span> Back to home
          </a>
        </div>
      </section>

      <section class="auth-card">
        <header>
          <p class="auth-eyebrow">Account Access</p>
          <h2 id="auth-mode-title">Create your account</h2>
          <p id="auth-mode-desc">Generate 30-day calendars, save Brand Brain, and sync your library.</p>
        </header>

        <form id="auth-form">
          <div class="form-group">
            <label for="email">Email</label>
            <input id="email" type="email" placeholder="you@example.com" required />
          </div>
          
          <div class="form-group password-group">
            <label for="password">Password</label>
            <div class="password-field-wrapper">
              <input id="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required minlength="6" />
              <button id="toggle-password-visibility" type="button" class="password-toggle" aria-pressed="false" aria-label="Show password">
              <!-- eye (shown when password is hidden) -->
              <svg class="icon-eye" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.5"/>
              </svg>
              <!-- eye-off (shown when password is visible) -->
              <svg class="icon-eye-off" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M17.94 17.94A10.94 10.94 0 0 1 12 20C5 20 1 12 1 12a21.77 21.77 0 0 1 5.06-6.06" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9.88 9.88A3 3 0 0 0 14.12 14.12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <line x1="1" y1="1" x2="23" y2="23" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <!-- Password Strength Indicator (only shown during Sign Up) -->
          <div id="password-strength" style="display: none; margin-top: 0.5rem;">
            <div style="display: flex; gap: 0.25rem; height: 4px; margin-bottom: 0.25rem;">
              <div id="strength-bar-1" style="flex: 1; background: rgba(255, 255, 255, 0.1); border-radius: 2px; transition: background 0.3s;"></div>
              <div id="strength-bar-2" style="flex: 1; background: rgba(255, 255, 255, 0.1); border-radius: 2px; transition: background 0.3s;"></div>
              <div id="strength-bar-3" style="flex: 1; background: rgba(255, 255, 255, 0.1); border-radius: 2px; transition: background 0.3s;"></div>
              <div id="strength-bar-4" style="flex: 1; background: rgba(255, 255, 255, 0.1); border-radius: 2px; transition: background 0.3s;"></div>
            </div>
            <p id="strength-text" style="margin: 0; font-size: 0.8rem; color: rgba(245, 246, 248, 0.64);"></p>
          </div>
        </div>
        
        <div class="terms-consent" id="terms-consent">
          <label class="terms-checkbox" for="terms-checkbox">
            <input type="checkbox" id="terms-checkbox" required />
            <span>
              I have read and agree to the
              <a href="/terms.html" target="_blank" rel="noopener">Terms of Service</a>
              and
              <a href="/privacy.html" target="_blank" rel="noopener">Privacy Policy</a>.
            </span>
          </label>
        </div>
        
        <button id="auth-btn" type="submit" class="primary">
          <span id="auth-btn-text">Sign Up</span>
          <span id="auth-btn-spinner" style="display: none;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="animation: spin 1s linear infinite; display: inline-block; vertical-align: middle;">
              <path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
        </button>
        <div id="auth-feedback" style="margin-top: 0.75rem; text-align: center;"></div>
        
        <div class="divider"><span>OR</span></div>
        
        <button id="google-auth-btn" type="button">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
            <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
            <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
            <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
          </svg>
          <span>Continue with Google</span>
        </button>
        
        <div class="toggle-form">
          Already have an account?
          <button id="toggle-mode" type="button">Sign In</button>
        </div>

        <div id="forgot-password-link" class="toggle-form" style="display: none; margin-top: 0.5rem;">
          <button id="forgot-password-btn" type="button">Forgot password?</button>
        </div>
        <p class="auth-support">Need help? <a href="/help.html">Visit the help center</a> or <a href="/reset-password.html">reset access</a>.</p>
        </form>
      </section>
    </div>
    <footer class="auth-footer">
      ¬© <span id="auth-footer-year"></span> Promptly. All rights reserved.
    </footer>

    <script type="module" src="./auth.js"></script>
    <script src="/sw-register.js" defer></script>
    <script src="/pwa-install.js" defer></script>
  </body>
</html>
